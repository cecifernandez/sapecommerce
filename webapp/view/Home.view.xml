<mvc:View
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    controllerName="ui5.starwarsecommerce.controller.Home"
>
    <core:Fragment
        fragmentName="ui5.starwarsecommerce.view.fragments.Toolbar"
        type="XML"
    />

    <Page showHeader="false">
        <content>
            <Image
                src="assets/imgs/bannerimage.png"
                width="100%"
                class="roundedBanner"
                alt="Banner Image"
            />
        <Title text="Productos Destacados" class="centeredTitle"></Title>

            <List
                id="home"
                items="{destacados>/destacados}"
                class="sapUiResponsiveMargin"
                itemPress=".onProductPress"
                mode="SingleSelectMaster"
            >
                <CustomListItem
                    class="sapUiLargeMarginBeginEnd"
                    type="Active"
                >
                    <HBox class="sapUiSmallMargin card">
                        <!-- Imagen -->
                        <VBox
                            width="100px"
                            class="sapUiSmallMarginEnd"
                        >
                            <Image
                                src="{= ${destacados>variants} ? ${destacados>variants/0/images/0} : ${destacados>images/0} }"
                                width="100%"
                                class="sapUiSmallMarginBottom"
                            />
                        </VBox>

                        <!-- Detalles -->
                        <VBox>
                            <Title
                                text="{destacados>name}"
                                level="H5"
                                class="sapUiTinyMarginBottom"
                            />
                            <Text
                                text="{destacados>description}"
                                class="sapUiTinyMarginBottom"
                            />
                            <Text
                                text="{= ${destacados>price} + ' ' + ${destacados>currency} }"
                                class="sapUiTinyMarginBottom"
                            />
                            <Text
                                text="{= ${destacados>rating} + ' â˜…' }"
                                class="sapUiTinyMarginBottom"
                            />
                            <HBox>
                                <Button
                                    text="{i18n>addToCart}"
                                    press=".onAddToCart"
                                    class="sapUiSmallMarginBegin"
                                />
                                <Button
                                    icon="{= ${destacados>isFavorite} ? 'sap-icon://heart' : 'sap-icon://heart-2'}"
                                    type="Transparent"
                                    press=".onToggleFavorite"
                                    tooltip="{i18n>addToFavorites}"
                                    class="sapUiSmallMarginBegin"
                                />
                            </HBox>
                        </VBox>
                    </HBox>
                </CustomListItem>
            </List>
        </content>
        <footer>
            <core:Fragment
                fragmentName="ui5.starwarsecommerce.view.fragments.Footer"
                type="XML"
            />
        </footer>
    </Page>
</mvc:View>
