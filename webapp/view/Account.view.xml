<mvc:View
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    controllerName="ui5.starwarsecommerce.controller.Account"
>
    <core:Fragment
        fragmentName="ui5.starwarsecommerce.view.fragments.Toolbar"
        type="XML"
    />
    <Page showHeader="false">
        <content>
            <!-- PERFIL DEL USUARIO -->
            <HBox
                alignItems="Center"
                justifyContent="Center"
                class="userBanner sapUiAlignCenter sapUiContentPadding sapUiMediumMarginTop"
            >
                <VBox
                    alignItems="Center"
                    justifyContent="Center"
                >
                    <Avatar
                        src="{userModel>/avatar}"
                        displaySize="XL"
                        class="sapUiSmallMarginEnd"
                    />

                    <Text text="{userModel>/name}" />
                    <HBox class="underTextProfile">
                        <Text
                            text="{= ${userModel>/username} + ' ● ' + ${userModel>/mail} }"
                            class=" sapUiTinyMarginBottom"
                        />
                    </HBox>
                </VBox>
            </HBox>

            <!-- FAVORITOS -->
            <Panel
                headerText="{i18n>favorites}"
                expandable="true"
                expanded="true"
                class="sapUiSmallMarginBottom sapUiTinyMarginTop"
            >
                <List
                    items="{userModel>/favorites}"
                    id="favoritesList"
                >
                    <StandardListItem
                        title="{userModel>name}"
                        description="{userModel>price}"
                    />
                </List>
            </Panel>

            <!-- COMPRAS RECIENTES -->
            <Panel
                headerText="{i18n>recentPurchases}"
                expandable="true"
                expanded="true"
                class="sapUiLargeMarginBottom"
            >
                <VBox items="{userModel>/purchaseHistory}">
                    <items>
                        <VBox>
                            <Table
                                inset="false"
                                items="{userModel>items}"
                            >
                                <headerToolbar>
                                    <OverflowToolbar>
                                        <Title
                                            text="{= ${i18n>purchaseTitle} + ': ' + ${userModel>date} }"
                                            level="H5"
                                        />
                                    </OverflowToolbar>
                                </headerToolbar>
                                <columns>
                                    <Column width="100%">
                                        <Text text="{i18n>product}" />
                                    </Column>
                                    <Column
                                        width="100%"
                                        hAlign="Center"
                                    >
                                        <Text text="{i18n>quantity}" />
                                    </Column>
                                    <Column
                                        width="100%"
                                        hAlign="End"
                                    >
                                        <Text text="{i18n>price}" />
                                    </Column>
                                </columns>
                                <items>
                                    <ColumnListItem vAlign="Middle">
                                        <cells>
                                            <ObjectIdentifier
                                                title="{userModel>name}"
                                            />
                                            <Text text="{userModel>quantity}" />
                                            <ObjectNumber
                                                number="{userModel>price}"
                                                unit="$"
                                            />
                                        </cells>
                                    </ColumnListItem>
                                </items>
                            </Table>
                            <HBox justifyContent="End">
                                <Text
                                    text="{= ${i18n>total} + ': ' + ${userModel>total} + ' $' }"
                                />
                            </HBox>
                        </VBox>
                    </items>
                </VBox>
            </Panel>
        </content>
        <footer>
            <core:Fragment
                fragmentName="ui5.starwarsecommerce.view.fragments.Footer"
                type="XML"
            />
        </footer>
    </Page>
</mvc:View>
