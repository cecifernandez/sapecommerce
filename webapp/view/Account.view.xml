<mvc:View
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    controllerName="ui5.starwarsecommerce.controller.Account"
>
    <core:Fragment
        fragmentName="ui5.starwarsecommerce.view.fragments.Toolbar"
        type="XML"
    />
    <Page
        id="accountPage"
        showHeader="false"
    >
        <content>
            <!-- PERFIL DEL USUARIO -->
            <HBox
                id="accountUserBanner"
                alignItems="Center"
                justifyContent="Center"
                class="userBanner sapUiAlignCenter sapUiContentPadding sapUiMediumMarginTop"
            >
                <VBox
                    id="accountUserVBox"
                    alignItems="Center"
                    justifyContent="Center"
                >
                    <Avatar
                        id="accountUserAvatar"
                        src="{userModel>/avatar}"
                        displaySize="XL"
                        class="sapUiSmallMarginEnd"
                    />
                    <Text
                        id="accountUserName"
                        text="{userModel>/name}"
                    />
                    <HBox
                        id="accountUserUnderText"
                        class="underTextProfile"
                    >
                        <Text
                            id="accountUserInfo"
                            text="{= ${userModel>/username} + ' ● ' + ${userModel>/mail} }"
                            class="sapUiTinyMarginBottom"
                        />
                    </HBox>
                </VBox>
            </HBox>

            <!-- FAVORITOS -->
            <Panel
                id="accountFavoritesPanel"
                headerText="{i18n>favorites}"
                expandable="true"
                expanded="true"
                class="sapUiSmallMarginBottom sapUiTinyMarginTop"
            >
                <List
                    id="accountFavoritesList"
                    items="{userModel>/favorites}"
                >
                    <StandardListItem
                        id="accountFavoritesListItem"
                        title="{userModel>name}"
                        description="{userModel>price}"
                    />
                </List>
            </Panel>

            <!-- COMPRAS RECIENTES -->
            <Panel
                id="accountPurchasesPanel"
                headerText="{i18n>recentPurchases}"
                expandable="true"
                expanded="true"
                class="sapUiLargeMarginBottom"
            >
                <VBox
                    id="accountPurchaseHistoryVBox"
                    items="{userModel>/purchaseHistory}"
                >
                    <items>
                        <VBox id="accountSinglePurchaseVBox">
                            <Table
                                id="accountPurchaseTable"
                                inset="false"
                                items="{userModel>items}"
                            >
                                <headerToolbar>
                                    <OverflowToolbar
                                        id="accountPurchaseToolbar"
                                    >
                                        <Title
                                            id="accountPurchaseTitle"
                                            text="{= ${i18n>purchaseTitle} + ': ' + ${userModel>date} }"
                                            level="H5"
                                        />
                                    </OverflowToolbar>
                                </headerToolbar>
                                <columns>
                                    <Column
                                        id="accountProductColumn"
                                        width="100%"
                                    >
                                        <Text
                                            id="accountProductText"
                                            text="{i18n>product}"
                                        />
                                    </Column>
                                    <Column
                                        id="accountQuantityColumn"
                                        width="100%"
                                        hAlign="Center"
                                    >
                                        <Text
                                            id="accountQuantityText"
                                            text="{i18n>quantity}"
                                        />
                                    </Column>
                                    <Column
                                        id="accountPriceColumn"
                                        width="100%"
                                        hAlign="End"
                                    >
                                        <Text
                                            id="accountPriceText"
                                            text="{i18n>price}"
                                        />
                                    </Column>
                                </columns>
                                <items>
                                    <ColumnListItem
                                        id="accountPurchaseItem"
                                        vAlign="Middle"
                                    >
                                        <cells>
                                            <ObjectIdentifier
                                                id="accountPurchaseProduct"
                                                title="{userModel>name}"
                                            />
                                            <Text
                                                id="accountPurchaseQuantity"
                                                text="{userModel>quantity}"
                                            />
                                            <ObjectNumber
                                                id="accountPurchasePrice"
                                                number="{userModel>price}"
                                                unit="$"
                                            />
                                        </cells>
                                    </ColumnListItem>
                                </items>
                            </Table>
                            <HBox
                                id="accountTotalHBox"
                                justifyContent="End"
                            >
                                <Text
                                    id="accountTotalText"
                                    text="{= ${i18n>total} + ': ' + ${userModel>total} + ' $' }"
                                />
                            </HBox>
                        </VBox>
                    </items>
                </VBox>
            </Panel>
        </content>
        <footer>
            <core:Fragment
                fragmentName="ui5.starwarsecommerce.view.fragments.Footer"
                type="XML"
            />
        </footer>
    </Page>
</mvc:View>
